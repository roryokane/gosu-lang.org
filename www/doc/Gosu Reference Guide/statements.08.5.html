<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Gosu Functions</title>
    <link rel="StyleSheet" href="css/statements.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body style="" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="statements.08.1.html#1440333">Statements</a> : Gosu Functions</span></div>
    <hr align="left" />
    <div>
      <div class="H1_-_Heading_1"><a name="1440333">Gosu Functions</a></div>
      <div class="B_-_Body"><a name="1140503">Functions encapsulate a series of Gosu statements to perform an action and optionally return a value. Generally </a>speaking, functions exist attached to a type. For example, declaring functions within a class. As in other object-oriented languages, <span class="e_-_emphasis">functions declared on a type</span> are also called <span class="e_-_emphasis">methods</span>.</div>
      <div class="B_-_Body"><a name="1482939">In the context of a Gosu program (a </a><span class="cv_-_computer_voice">.gsp</span> file), you can declare functions at the top level, without attaching them explicitly to a class. You can then call this function from other places in that Gosu program.</div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1482958">The built-in </a><span class="cv_-_computer_voice">print</span> function is special because it is always in scope, and is not attached to a type. It is the only true global function in Gosu.</div>
      <div class="B_-_Body"><a name="1478818">Gosu does not support functions defined within other functions. However, you can use the Gosu feature called </a>blocks to do something similar. See <a href="javascript:WWHClickedPopup('gosu', 'blocks.17.2.html#1442471', '');" title="What Are Blocks?">"What Are Blocks?"</a> for more information.</div>
      <div class="B_-_Body"><a name="1440874">Unlike Java, Gosu does not support variable argument functions (so-called </a><span class="cv_-_computer_voice">vararg</span> functions), meaning that Gosu does not support arguments with “<span class="cv_-_computer_voice">...</span>” arguments.</div>
      <div class="B_-_Body"><a name="1440875">Gosu permits you to specify only type literals for a function’s return type. Gosu does not support other expres</a>sions that might evaluate (indirectly) to a type.</div>
      <div class="B_-_Body"><a name="1278142">Gosu requires that you provide the return type in the function definition, unless the return type is </a><span class="cv_-_computer_voice">void</span> (no return value). If the return type void, omit the type and the colon before it. Also, any <span class="cv_-_computer_voice">return</span> statement must return a type that matches the declared function return type. A missing return type or a mismatched return value generates a compiler error. </div>
      <div class="HS_-_Head_Sub"><a name="1138430">Syntax</a></div>
      <PRE class="CF_-_Code_First_Line"><span class="pc_-_parameter_in_code"><a name="1140551">[modifiers]</a></span> function <span class="pc_-_parameter_in_code">IDENTIFIER</span> ( <span class="pc_-_parameter_in_code">argument-declaration-list</span> ) <span class="pc_-_parameter_in_code">[:type-literal]</span> {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140553">&nbsp;</a>&nbsp;<span class="pc_-_parameter_in_code">function-body</span></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1140554">}</a></PRE>
      <div class="HS_-_Head_Sub"><a name="1140567">Examples</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1140571">function square( n : Number ) : Number {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140573">&nbsp;</a>&nbsp;return n * n </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140574">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140575">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1278159">// Compile error "Cannot return a value from a void function."</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140576">private function myfunction() { </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140578">&nbsp;</a>&nbsp;return "test for null value" </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140582">} </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140583">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1266504">function fibonacci( n : Number ) : Number { </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1266505">  if (n == 0) { return 0 }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1266506">  else if (n == 1 ) { return 1 }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1266507">  else {return fibonacci( n - 1 ) + fibonacci( n - 2 ) }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1156053">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1266511">&nbsp;</a>&nbsp;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140597">function concat ( str1:String, str2:String ) : String {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140600">&nbsp;</a>&nbsp;return str1 + str2 </PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1140601">}</a></PRE>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1441083">For more information about modifiers that can appear before the word </a><span class="cv_-_computer_voice">function</span> in class definitions, see <a href="javascript:WWHClickedPopup('gosu', 'classes.11.5.html#2445687', '');" title="Modifiers">"Modifiers"</a>.</div>
      <div class="B_-_Body"><a name="1441149">If the return type is not </a><span class="cv_-_computer_voice">void</span>, <span class="s_-_strong">all</span> possible code paths must return a value in a method that declares a return type. </div>
      <div class="B_-_Body"><a name="1482990">In other words, if any code path contains a </a><span class="cv_-_computer_voice">return</span> statement, Gosu requires a <span class="cv_-_computer_voice">return</span> statement for all possible paths through the function. The set of all paths includes all outcomes of conditional execution, such as <span class="cv_-_computer_voice">if</span> and <span class="cv_-_computer_voice">switch</span> statements. </div>
      <div class="B_-_Body"><a name="1441165">For example, the following method is invalid:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1441166">//invalid...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1478915">class MyClass {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441167">&nbsp;</a>&nbsp;function myfunction(myParameter) : boolean {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441168">&nbsp;</a>&nbsp;&nbsp;&nbsp;if myParameter==1</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441169">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return true</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441170">&nbsp;</a>&nbsp;&nbsp;&nbsp;if myParameter==2</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441171">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return false</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441172">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1441173">}</a></PRE>
      <div class="B_-_Body"><a name="1441174">Gosu generates a “Missing Return Statement” error for this function and you must fix this error. The Gosu </a>compiler sees two separate <span class="cv_-_computer_voice">if</span> expressions for a total of four total code paths. Even if you believe the function is always used with <span class="p_-_parameter">myParameter</span> set to value 1 or 2 but no other value, you must fix the error. To fix the error, rewrite the code so that all code paths contain a <span class="cv_-_computer_voice">return</span> statement. </div>
      <div class="B_-_Body"><a name="1441175">For example, you can fix the earlier example using an </a><span class="cv_-_computer_voice">else</span> clause:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1441176">class MyClass {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441177">&nbsp;</a>&nbsp;function myfunction(myParameter) : boolean {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441178">&nbsp;</a>&nbsp;&nbsp;&nbsp;if myParameter==1</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441179">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return true</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441180">&nbsp;</a>&nbsp;&nbsp;&nbsp;else</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441181">&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return false</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441182">&nbsp;</a>&nbsp;}</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1441183">}</a></PRE>
      <div class="B_-_Body"><a name="1441184">Similarly, if you use a </a><span class="cv_-_computer_voice">switch</span> statement, consider using an <span class="cv_-_computer_voice">else</span> section.</div>
      <div class="B_-_Body"><a name="1441185">This strict requirement for </a><span class="cv_-_computer_voice">return</span> statements mirrors the analogous requirements in the Java language.</div>
      <div class="H2_-_Heading_2"><a name="1142377">Named Arguments</a></div>
      <div class="B_-_Body"><a name="1483567">Optionally you can name use your argument names from other Gosu code. This is especially useful if you want </a>to provide default argument values but can also make your code more readable. For example, typical method calls might like this:</div>
      <div class="CS_-_Code_Single_Line"><a name="1483568">someMethod(true, false) // what do those values represent? difficult to tell visually</a></div>
      <div class="B_-_Body"><a name="1483569">Instead of passing simply a series of one or more comma-separated arguments, pass a colon, then the argument </a>name, then the equals sign, then the value. If that argument has a default value, passing the argument overrides the default. </div>
      <div class="B_-_Body"><a name="1483538">For example:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1483578">someMethod(:redisplay=true, :sendUpdate=false) // easy to read code!</a></div>
      <div class="B_-_Body"><a name="1483541">The Gosu named arguments feature requires that the method name is not already overloaded on the class:</a></div>
      <div class="B_-_Body"><a name="1483552">To demonstrate default arguments, imagine a function that printed strings with a prefix:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1483219">class MyClass {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483196">var _names : java.util.ArrayList&lt;String&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483205">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483212">construct( strings : java.util.ArrayList&lt;String&gt;) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483229">&nbsp;</a>&nbsp;_strings = strings</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483252">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483259">&nbsp;</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="1483187">&nbsp;</a>&nbsp;function printWithPrefix( prefix : String = " ---&gt; ") {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483123">    for( n in _strings ) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483124">      print( prefix + n ) // used a passed-in argument, or use the default " ---&gt; " if omitted</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483125">    }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483180">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483266">}</a></PRE>
      <div class="B_-_Body"><a name="1483181">If you want to use the default values, call this class with the optional arguments omitted. Name the parameter and </a>pass a value to override the default value.</div>
      <PRE class="CF_-_Code_First_Line"><a name="1483057">var c = new MyClass({"hello", "there"})</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1483058">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483643">// Because the argument has a default, it is optional -- you can omit it</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483644">c.printWithPrefix() </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483645">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483657">// Alternatively, specify the parameter to pass and override any default if one exists</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483658">c.printWithPrefix(:prefix= " next string is:") </a></PRE>
      <div class="H2_-_Heading_2"><a name="1483028">Public and Private Functions</a></div>
      <div class="B_-_Body"><a name="1142381">A function is public by default, meaning that it can be called from any Gosu code. In contrast, a private function </a>can be called only within the library in which it is defined. For example, suppose you have the following two functions defined in a library:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1142383">public function funcA() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1142385">&nbsp;</a>&nbsp;...</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1142386">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1142387">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1142399">private function funcB() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1142389">&nbsp;</a>&nbsp;...</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1142390">}</a></PRE>
      <div class="B_-_Body"><a name="1142391">Because </a><span class="cv_-_computer_voice">funcA()</span> is defined as public, it can be called from any other Gosu expression. However, <span class="cv_-_computer_voice">funcB()</span> is private, and therefore is not valid anywhere except within the library.</div>
      <div class="B_-_Body"><a name="1142392">For example, a function in another library could call </a><span class="cv_-_computer_voice">funcA()</span>, but it could not call the private <span class="cv_-_computer_voice">funcB()</span>. Because <span class="cv_-_computer_voice">funcA()</span> is defined in the same library as <span class="cv_-_computer_voice">funcB()</span>, however, <span class="cv_-_computer_voice">funcA()</span> can call <span class="cv_-_computer_voice">funcB()</span>.</div>
      <div class="B_-_Body"><a name="1142393">Do </a><span class="s_-_strong">not</span> make any function public without good reason. Therefore, mark a function as private if it is defined only for use inside the library. </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1368180">See </a><a href="javascript:WWHClickedPopup('gosu', 'classes.11.5.html#2445687', '');" title="Modifiers">"Modifiers"</a> for more information on class and function level access modifiers.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </div>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>